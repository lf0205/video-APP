(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/detail/detail"],{"36a0":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement;t._self._c},n=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n})},"678a":function(t,e,i){"use strict";i.r(e);var a=i("b23e"),n=i.n(a);for(var r in a)"default"!==r&&function(t){i.d(e,t,function(){return a[t]})}(r);e["default"]=n.a},"9eff":function(t,e,i){"use strict";i.r(e);var a=i("36a0"),n=i("678a");for(var r in n)"default"!==r&&function(t){i.d(e,t,function(){return n[t]})}(r);i("c29f");var o=i("2877"),u=Object(o["a"])(n["default"],a["a"],a["b"],!1,null,"cd1f4ae0",null);e["default"]=u.exports},b23e:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("a34a"));function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e,i,a,n,r,o){try{var u=t[r](o),d=u.value}catch(c){return void i(c)}u.done?e(d):Promise.resolve(d).then(a,n)}function o(t){return function(){var e=this,i=arguments;return new Promise(function(a,n){var o=t.apply(e,i);function u(t){r(o,a,n,u,d,"next",t)}function d(t){r(o,a,n,u,d,"throw",t)}u(void 0)})}}var u={data:function(){return{userinfo:{},repeat_time:"",detail:{id:0,title:"",stock:"",price:"",content:"",create_time:"",cate:{title:"",image:""},user:{username:"",avatar:""}}}},created:function(){this.userinfo=this.$api.getConfig()},methods:{showImg:function(t){this.$api.previewImage([t.target.dataset.src])},join:function(){var e=this,i=this.$api.getConfig("verified");1==i?(t.showLoading({title:"申请中"}),this.$api.post("lists/join",{id:this.detail.id},function(i){t.hideLoading(),0==i.code&&e.$api.modal("任务申请成功","",function(){t.redirectTo({url:"/pages/order/detail?id="+i.data})})},function(){t.hideLoading()})):this.$api.modal("请先完成实名认证","",function(e){e.confirm&&t.navigateTo({url:"/pages/user/edit_access"})})},initDetail:function(e){var i=this;t.showLoading(),this.$api.post("lists/detail",{id:e},function(e){t.hideLoading(),0==e.code?(i.detail=e.data,i.detail.repeat>0&&i.detail.repeat_left_time&&(i.repeat_time=isNaN(i.detail.repeat_left_time)?i.detail.repeat_left_time:i.formatSeconds(i.detail.repeat_left_time))):i.$api.modal(e.msg,"",function(){t.navigateBack()})},function(){t.hideLoading()})},onLoad:function(){var t=o(a.default.mark(function t(e){return a.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.initDetail(e.id);case 1:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),goOrders:function(){t.navigateTo({url:"/pages/order/all?mine=1"})},formatSeconds:function(t){var e=parseInt(t),i=0,a=0;e>60&&(i=parseInt(e/60),e=parseInt(e%60),i>60&&(a=parseInt(i/60),i=parseInt(i%60)));var n="";return e>0&&(n=parseInt(e)+"秒"),i>0&&(n=parseInt(i)+"分"+n),a>0&&(n=parseInt(a)+"小时"+n),n},doPay:function(){var t=this;this.$api.post("lists/pay",{id:this.detail.id},function(e){0==e.code&&(0==e.data.paid?(t.$api.msg("正在前往支付"),t.$api.payment(e.data.orderInfo,function(e){t.initDetail(t.detail.id),t.$api.modal("支付成功")},function(e){t.$api.msg("支付失败")})):t.$api.modal("支付成功"))})}}};e.default=u}).call(this,i("6e42")["default"])},b29b:function(t,e,i){},c29f:function(t,e,i){"use strict";var a=i("b29b"),n=i.n(a);n.a},dc51:function(t,e,i){"use strict";(function(t){i("ae7a"),i("921b");a(i("66fd"));var e=a(i("9eff"));function a(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,i("6e42")["createPage"])}},[["dc51","common/runtime","common/vendor"]]]);